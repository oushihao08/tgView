System.register(["./Page-legacy-5b01f39b.js","./vant-legacy-6ea358c0.js","./base-legacy-94cc1f63.js","./form-item-legacy-410c16e7.js","./checkbox-legacy-e04a3c6e.js","./CodeButton-legacy-dbc0e987.js","./input-legacy-07e4a3d5.js","../js/index-legacy-v1.1.28-55e764dd.js","./vue-legacy-ad0cdcd9.js","./vue-router-legacy-e150e856.js","./index-legacy-7b831b14.js","./index-legacy-2a0c9186.js","./index-legacy-9ee44606.js","./vendor-legacy-d0deb908.js","./__commonjsHelpers__-legacy-f21eb433.js","./IconSvg-legacy-60cb2adb.js","./button-legacy-73c91ac1.js","./index-legacy-3ada6c0d.js","./index-legacy-7f75df50.js","./lodash-es-legacy-9b7a5f41.js","./index-legacy-06c116be.js","./index-legacy-51f63e39.js","./index-legacy-a84d9ef3.js","./index-legacy-1cf689c4.js","./message-legacy-0a8b17c4.js","./index-legacy-7a0c5c16.js","./index-legacy-a056082c.js","./typescript-legacy-3c10c95f.js","./aria-legacy-ceb005ad.js","./index-legacy-3b510e6c.js","./vue-i18n-legacy-60f56202.js","./index-legacy-026c3e72.js","./error-legacy-d59203b1.js","./async-validator-legacy-a20d481d.js"],(function(e,l){"use strict";var a,o,r,s,n,t,i,c,d,u,m,p,f,g,h,v,y,b,A,w,C,j,_,P,k,x,S,V,$,B,U,K,Q,E,R,q,T,H=document.createElement("style");return H.textContent=".Register{--van-action-sheet-max-height: 100%}.Register .phone .el-input__wrapper{padding-left:2.26667rem}.Register .tab{border-bottom:.05333rem solid;border-bottom-color:#fff}.Register .tab-active{border-bottom-color:#2649ef}\n",document.head.appendChild(H),{setters:[e=>{a=e._},e=>{o=e.I,r=e.B,s=e.S,n=e.A},()=>{},()=>{},()=>{},e=>{t=e._,i=e.a},()=>{},e=>{c=e.t,d=e.v,u=e.x,m=e.y,p=e.q,f=e.a,g=e._},e=>{h=e.r,v=e.a,y=e.c,b=e.w,A=e.L,w=e.M,C=e.R,j=e.S,_=e.j,P=e.y,k=e.U,x=e.P,S=e.N,V=e.ao,$=e.$,B=e.Z,U=e.a0,K=e.F},e=>{Q=e.u},e=>{E=e.E},e=>{R=e.E,q=e.a},e=>{T=e.E},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const l=P("Hi"),H={key:0},D={key:1,class:"c-info"},G={class:"c-black"},N={class:"w-100b m-b-20"},I=B("img",{class:"w-21 h-30 m-r-10",src:"data:image/webp;base64,UklGRmABAABXRUJQVlA4WAoAAAAQAAAAKQAAPAAAQUxQSMsAAAABgFTbdt3mQhAEQTAEQxCDikHMwI9BwqBmYDPQY2AzCASJwRs8/VeHHUTEBED/vIP0/567RdEGGf7K+SgTBgPARpnyBBBkUgcv2eeg7pwyEZ+Mx0jDShZWD8auGSf6qHG/IbvbCmQoQxVeytGM4gpZ/w6qSHYU6MkkdhjW91+qLUhtPJcBq7R+B1CTmInQzzZxjyOHhbj22kwDq7vQ22XcR8lriLkzi8/Ife693yGKTgBnJnSATXNcALCmGdgoGB6WNpQ9cer3XGShAQBWUDggbgAAABAEAJ0BKioAPQA+kTqSSCeSUZlVmFgJBLKAZR4aw93e9tbxhcbNoU6AAP7n5KE5xdgd2lNkCuevq4hTCZKrSPVa6uemhIiN54f6A2///ia8zgiqVWAHVKHyRHNhlD0wyQE7r0JtiHsuSewUQAAA"},null,-1),L=["src"],Z={class:"c-info font-28"};/* unplugin-vue-components disabled */e("default",{__name:"Register",setup(e){var z,J,M,W,O;const X=Q(),F={phone:1,email:2};let Y=h(!0);const ee=h(null);let le=h(F.phone),ae=h(!1),oe=h([]);const re=h(""),se=h(!1);let ne=h("");const te=()=>{if(!re.value)return oe.value;const e=["phoneAreaCode","nationalityName"];return oe.value.filter((l=>-1!==l[e[0]].toString().indexOf(re.value.toString())||-1!==l[e[1]].toString().indexOf(re.value.toString())))};let ie=h(!1);const ce=v({phoneAreaCode:sessionStorage.phoneAreaCode,phone:null!==(z=sessionStorage.phone)&&void 0!==z?z:"",email:null!==(J=sessionStorage.email)&&void 0!==J?J:"",loginPassword:null!==(M=sessionStorage.loginPassword)&&void 0!==M?M:"",verificationCode:null!==(W=sessionStorage.verificationCode)&&void 0!==W?W:"",inviteCode:null!==(O=X.query.inviteCode)&&void 0!==O?O:""});let de=h(!1);const ue=y((()=>{const e=Object.keys(F).find((e=>le.value==F[e]));return[!se.value,c(ce[e],ce.loginPassword,ce.verificationCode)].some((e=>e))})),me={phone:[{required:!0,message:$t("form.inputPl","form.phone"),trigger:"blur"},{validator:d.el.check(d.re.phone,{errorText:()=>$t("form.phoneError")}),trigger:"blur"},{validator:d.el.check(d.re.lan,{errorText:()=>$t("form.inputPl","form.passwordLengthPassError","public.de","form.phone")}),trigger:"blur"}],email:[{required:!0,message:$t("form.inputPl","form.email"),trigger:"blur"},{validator:(e,l,a)=>d.re.checkEmail(e,l,a),trigger:"blur"}],verificationCode:[{required:!0,message:$t("form.inputPl","form.verifyCode"),trigger:"blur"}],loginPassword:[{required:!0,message:$t("form.inputPl","form.password"),trigger:"blur"}]},pe=()=>{u(`/help?name=userAgreement&${location.search.replace("?","")}`)},fe=e=>{le.value=e},ge=async()=>(1===le.value?(await d.el.field(ee.value,"phone"),ne.value=ce.phone):(await d.el.field(ee.value,"email"),ne.value=ce.email),!0),he=y((()=>[Object.keys(F).find((e=>le.value==F[e])),"verificationCode","loginPassword"])),ve=async()=>{try{if(await d.el.field(ee.value,he.value),!se.value)return void showNotify({type:"danger",message:$t("form.readPl","form.userAgreement")});ae.value=!0;const e={...ce,registerWay:le.value,loginPassword:m.md5(ce.loginPassword)};le.value==F.phone&&delete e.email,le.value==F.email&&(delete e.phone,delete e.phoneAreaCode),await p.registered(e),u(`/user/registerSuccess?${location.search.replace("?","")}`)}catch(e){de.value=!ce.loginPassword}finally{ae.value=!1}};return b((()=>ce.phoneAreaCode),(e=>{})),b((()=>ce.phone),(e=>{sessionStorage.phone=e})),b((()=>ce.email),(e=>{sessionStorage.email=e})),b((()=>ce.loginPassword),(e=>{sessionStorage.loginPassword=e})),b((()=>ce.verificationCode),(e=>{sessionStorage.verificationCode=e})),b((()=>le.value),(e=>{Y.value=!1,setTimeout((()=>{Y.value=!0}))})),A((()=>{(async()=>{var e;const l=await p.areaList();oe.value=l,ce.phoneAreaCode=null===(e=oe.value[0])||void 0===e?void 0:e.phoneAreaCode})()})),(e,c)=>{const d=f,u=g,m=o,p=E,h=R,v=t,y=i,b=T,A=r,Q=q,z=s,J=n,M=a;return w(),C(M,{bodyClass:"Register p-lr-60 p-t-40 p-b-100",title:e.$t("form.register")},{default:j((()=>[_(u,{class:"w-100b font-54"},{default:j((()=>[_(d,null,{default:j((()=>[l])),_:1}),_(d,null,{default:j((()=>[P(k(e.$t("user.registerTitle")),1)])),_:1})])),_:1}),_(d,{class:"label h-88 m-t-10 m-b-30",y:"c"},{default:j((()=>[_(d,{class:x([le.value==F.phone?"c-primary tab-active":"c-info","tab transition h-88 m-r-60"]),y:"c",onClick:c[0]||(c[0]=e=>fe(F.phone))},{default:j((()=>[P(k(e.$t("form.phone")),1)])),_:1},8,["class"]),_(d,{class:x([le.value==F.email?"c-primary tab-active":"c-info","tab transition h-88"]),y:"c",onClick:c[1]||(c[1]=e=>fe(F.email))},{default:j((()=>[P(k(e.$t("form.email")),1)])),_:1},8,["class"])])),_:1}),_(Q,{ref_key:"formRef",ref:ee,model:ce,rules:me,class:"w-100b f-column"},{default:j((()=>[le.value==F.phone?(w(),C(h,{key:"phone",class:"m-b-40 phone position-r",prop:"phone"},{error:j((({error:e})=>[_(d,{class:"w-100b c-error label-sm lh-no m-t-5"},{default:j((()=>[P(k(e),1)])),_:2},1024)])),default:j((()=>[_(d,{class:"position-a-tl w-150 h-88 p-l-20 z-1",y:"c",x:"sb",onClick:c[2]||(c[2]=()=>ie.value=!0)},{default:j((()=>[ce.phoneAreaCode?(w(),S("span",H,k(ce.phoneAreaCode),1)):(w(),S("span",D,k(e.$t("form.selectpl")),1)),_(m,{class:"label-sm c-info",name:"arrow-down"})])),_:1}),_(p,{modelValue:ce.phone,"onUpdate:modelValue":c[3]||(c[3]=e=>ce.phone=e),class:"f-1",placeholder:e.$t("form.inputPl","form.phone"),onKeyup:V(ve,["enter"])},null,8,["modelValue","placeholder","onKeyup"])])),_:1})):$("",!0),le.value==F.email?(w(),C(h,{key:"email",class:"m-b-40",prop:"email"},{error:j((({error:e})=>[_(d,{class:"w-100b c-error label-sm lh-no m-t-5"},{default:j((()=>[P(k(e),1)])),_:2},1024)])),default:j((()=>[_(p,{modelValue:ce.email,"onUpdate:modelValue":c[4]||(c[4]=e=>ce.email=e),modelModifiers:{trim:!0},placeholder:e.$t("form.inputPl","form.email"),onKeyup:V(ve,["enter"])},null,8,["modelValue","placeholder","onKeyup"])])),_:1})):$("",!0),_(h,{key:"verificationCode",class:"m-b-40 position-r",prop:"verificationCode"},{error:j((()=>[_(d,{class:"w-100b c-error label-sm lh-no m-t-5"},{default:j((()=>[P(k(e.$t("form.inputPl","form.verifyCode")),1)])),_:1})])),default:j((()=>[Y.value?(w(),C(d,{key:0,class:"w-100b position-r"},{default:j((()=>[_(p,{modelValue:ce.verificationCode,"onUpdate:modelValue":c[5]||(c[5]=e=>ce.verificationCode=e),maxlength:6,placeholder:e.$t("form.verifyCode"),onInput:c[6]||(c[6]=e=>ce.verificationCode=e.replace(/[^0-9]/g,"")),onKeyup:V(ve,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),_(v,{class:"m-l-20 h-100b h-88 p-r-20",account:ne.value,beforeClick:ge,type:"0",phoneAreaCode:le.value==F.phone?ce.phoneAreaCode:""},null,8,["account","phoneAreaCode"])])),_:1})):$("",!0)])),_:1}),_(h,{class:"m-b-40",prop:"loginPassword"},{error:j((()=>[_(d,{class:"w-100b c-error label-sm lh-no m-t-5"})])),default:j((()=>[_(y,{modelValue:ce.loginPassword,"onUpdate:modelValue":c[7]||(c[7]=e=>ce.loginPassword=e),placeholder:e.$t("form.inputPl","form.password"),showPwdStrengt:!1,onKeyup:V(ve,["enter"]),onBlur:c[8]||(c[8]=()=>de.value=!ce.loginPassword)},null,8,["modelValue","placeholder","onKeyup"]),_(d,{class:x(["label-sm lh-no m-t-5",de.value?"c-error":"c-info"])},{default:j((()=>[P(k(e.$t("form.passwordLengthPassError")),1)])),_:1},8,["class"])])),_:1}),_(h,{class:"m-b-40",prop:"inviteCode"},{default:j((()=>[_(p,{modelValue:ce.inviteCode,"onUpdate:modelValue":c[9]||(c[9]=e=>ce.inviteCode=e),placeholder:e.$t("form.inputPl","form.inviteCode"),onKeyup:V(ve,["enter"])},null,8,["modelValue","placeholder","onKeyup"])])),_:1}),_(d,{class:"w-100b m-b-10 label",y:"c"},{default:j((()=>[_(b,{modelValue:se.value,"onUpdate:modelValue":c[10]||(c[10]=e=>se.value=e),size:"large",class:"m-r-10"},null,8,["modelValue"]),B("span",G,k(e.$t("form.readAndAccept")),1),B("span",{class:"c-primary break-word m-l-10",onClick:pe},k(e.$t("form.userAgreement")),1)])),_:1}),B("div",N,[_(A,{class:"w-100b title-sm",type:"primary",loading:ae.value,disabled:ue.value,onClick:ve},{default:j((()=>[P(k(e.$t("form.register")),1)])),_:1},8,["loading","disabled"])]),_(d,{class:"w-100b c-info label-sm p-10",x:"c",onClick:c[11]||(c[11]=()=>e.router.push("/goDownload"))},{default:j((()=>[I,B("span",null,k(e.$t("public.appDownload")),1)])),_:1})])),_:1},8,["model"]),_(J,{show:ie.value,"onUpdate:show":c[15]||(c[15]=e=>ie.value=e),class:"h-100b",round:!1},{default:j((()=>[_(z,{modelValue:re.value,"onUpdate:modelValue":c[13]||(c[13]=e=>re.value=e),"show-action":"",shape:"round",placeholder:e.$t("user.plsCountryCode"),onCancel:c[14]||(c[14]=()=>ie.value=!1)},{action:j((()=>[_(d,{class:"font-24",onClick:c[12]||(c[12]=e=>ie.value=!1)},{default:j((()=>[P(k(e.$t("alert.cancel")),1)])),_:1})])),_:1},8,["modelValue","placeholder"]),(w(!0),S(K,null,U(te(oe.value),((e,l)=>(w(),C(d,{key:l,y:"c",x:"sb",class:"h-88 p-lr-30",onClick:l=>(e=>{ce.phoneAreaCode=e.phoneAreaCode,ie.value=!1})(e)},{default:j((()=>[_(d,{class:"font-28"},{default:j((()=>[B("img",{src:e.icon,onerror:"this.src='/image/backup.webp'",class:"w-34 h-24 radius-2 m-r-17"},null,8,L),B("span",null,k(e.nationalityName),1)])),_:2},1024),B("span",Z,k(e.phoneAreaCode),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["show"])])),_:1},8,["title"])}}})}}}));
//# sourceMappingURL=Register-legacy-096eb1fe.js.map
