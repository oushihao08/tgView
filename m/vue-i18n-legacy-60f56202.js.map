{"version":3,"file":"vue-i18n-legacy-60f56202.js","sources":["../../node_modules/.pnpm/vue-i18n@9.2.2_vue@3.2.38/node_modules/vue-i18n/dist/vue-i18n.cjs.js"],"sourcesContent":["/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar shared = require('@intlify/shared');\nvar coreBase = require('@intlify/core-base');\nvar vue = require('vue');\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.2.2';\n\nlet code$1 = coreBase.CoreWarnCodes.__EXTEND_POINT__;\r\nconst inc$1 = () => ++code$1;\r\nconst I18nWarnCodes = {\r\n    FALLBACK_TO_ROOT: code$1,\r\n    NOT_SUPPORTED_PRESERVE: inc$1(),\r\n    NOT_SUPPORTED_FORMATTER: inc$1(),\r\n    NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\r\n    NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\r\n    COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\r\n    NOT_FOUND_PARENT_SCOPE: inc$1() // 13\r\n};\r\nconst warnMessages = {\r\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\r\n    [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return shared.format(warnMessages[code], ...args);\r\n}\n\nlet code = coreBase.CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst I18nErrorCodes = {\r\n    // composer module errors\r\n    UNEXPECTED_RETURN_TYPE: code,\r\n    // legacy module errors\r\n    INVALID_ARGUMENT: inc(),\r\n    // i18n module errors\r\n    MUST_BE_CALL_SETUP_TOP: inc(),\r\n    NOT_INSLALLED: inc(),\r\n    NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\r\n    // directive module errors\r\n    REQUIRED_VALUE: inc(),\r\n    INVALID_VALUE: inc(),\r\n    // vue-devtools errors\r\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\r\n    NOT_INSLALLED_WITH_PROVIDE: inc(),\r\n    // unexpected error\r\n    UNEXPECTED_ERROR: inc(),\r\n    // not compatible legacy vue-i18n constructor\r\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\r\n    // bridge support vue 2.x only\r\n    BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\r\n    // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\r\n    MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\r\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\r\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\r\n    // for enhancement\r\n    __EXTEND_POINT__: inc() // 29\r\n};\r\nfunction createI18nError(code, ...args) {\r\n    return coreBase.createCompileError(code, null, { messages: errorMessages, args } );\r\n}\r\nconst errorMessages = {\r\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\r\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\r\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\r\n    [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\r\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\r\n    [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\r\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\r\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\r\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\r\n    [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\r\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\r\n    [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\r\n    [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode',\r\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\r\n};\n\nconst TransrateVNodeSymbol = \r\n/* #__PURE__*/ shared.makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = /* #__PURE__*/ shared.makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = /* #__PURE__*/ shared.makeSymbol('__numberParts');\r\nconst EnableEmitter = /* #__PURE__*/ shared.makeSymbol('__enableEmitter');\r\nconst DisableEmitter = /* #__PURE__*/ shared.makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\r\nshared.makeSymbol('__intlifyMeta');\r\nconst InejctWithOption = /* #__PURE__*/ shared.makeSymbol('__injectWithOption');\r\nconst __VUE_I18N_BRIDGE__ =  '__VUE_I18N_BRIDGE__';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\r\nfunction handleFlatJson(obj) {\r\n    // check obj\r\n    if (!shared.isObject(obj)) {\r\n        return obj;\r\n    }\r\n    for (const key in obj) {\r\n        // check key\r\n        if (!shared.hasOwn(obj, key)) {\r\n            continue;\r\n        }\r\n        // handle for normal json\r\n        if (!key.includes('.')) {\r\n            // recursive process value if value is also a object\r\n            if (shared.isObject(obj[key])) {\r\n                handleFlatJson(obj[key]);\r\n            }\r\n        }\r\n        // handle for flat json, transform to normal json\r\n        else {\r\n            // go to the last object\r\n            const subKeys = key.split('.');\r\n            const lastIndex = subKeys.length - 1;\r\n            let currentObj = obj;\r\n            for (let i = 0; i < lastIndex; i++) {\r\n                if (!(subKeys[i] in currentObj)) {\r\n                    currentObj[subKeys[i]] = {};\r\n                }\r\n                currentObj = currentObj[subKeys[i]];\r\n            }\r\n            // update last object value, delete old property\r\n            currentObj[subKeys[lastIndex]] = obj[key];\r\n            delete obj[key];\r\n            // recursive process value if value is also a object\r\n            if (shared.isObject(currentObj[subKeys[lastIndex]])) {\r\n                handleFlatJson(currentObj[subKeys[lastIndex]]);\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n, messageResolver, flatJson } = options;\r\n    // prettier-ignore\r\n    const ret = shared.isPlainObject(messages)\r\n        ? messages\r\n        : shared.isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (shared.isArray(__i18n)) {\r\n        __i18n.forEach(custom => {\r\n            if ('locale' in custom && 'resource' in custom) {\r\n                const { locale, resource } = custom;\r\n                if (locale) {\r\n                    ret[locale] = ret[locale] || {};\r\n                    deepCopy(resource, ret[locale]);\r\n                }\r\n                else {\r\n                    deepCopy(resource, ret);\r\n                }\r\n            }\r\n            else {\r\n                shared.isString(custom) && deepCopy(JSON.parse(custom), ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (messageResolver == null && flatJson) {\r\n        for (const key in ret) {\r\n            if (shared.hasOwn(ret, key)) {\r\n                handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !shared.isObject(val) || shared.isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n    for (const key in src) {\r\n        if (shared.hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getComponentOptions(instance) {\r\n    return instance.type ;\r\n}\r\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    let messages = shared.isObject(options.messages) ? options.messages : {};\r\n    if ('__i18nGlobal' in componentOptions) {\r\n        messages = getLocaleMessages(global.locale.value, {\r\n            messages,\r\n            __i18n: componentOptions.__i18nGlobal\r\n        });\r\n    }\r\n    // merge locale messages\r\n    const locales = Object.keys(messages);\r\n    if (locales.length) {\r\n        locales.forEach(locale => {\r\n            global.mergeLocaleMessage(locale, messages[locale]);\r\n        });\r\n    }\r\n    {\r\n        // merge datetime formats\r\n        if (shared.isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (shared.isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction createTextNode(key) {\r\n    return vue.createVNode(vue.Text, null, key, 0)\r\n        ;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// extend VNode interface\r\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, vue.getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo =  () => {\r\n    const instance = vue.getCurrentInstance();\r\n    let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\r\n        ? { [DEVTOOLS_META]: meta } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createComposer(options = {}, VueI18nLegacy) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : coreBase.DEFAULT_LOCALE);\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // prettier-ignore\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = shared.isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    let _warnHtmlMessage = __root\r\n        ? __root.warnHtmlMessage\r\n        : shared.isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    const getCoreContext = () => {\r\n        _isGlobal && coreBase.setFallbackContext(null);\r\n        const ctxOptions = {\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            messageResolver: options.messageResolver,\r\n            __meta: { framework: 'vue' }\r\n        };\r\n        {\r\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\r\n            ctxOptions.numberFormats = _numberFormats.value;\r\n            ctxOptions.__datetimeFormatters = shared.isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined;\r\n            ctxOptions.__numberFormatters = shared.isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined;\r\n        }\r\n        {\r\n            ctxOptions.__v_emitter = shared.isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined;\r\n        }\r\n        const ctx = coreBase.createCoreContext(ctxOptions);\r\n        _isGlobal && coreBase.setFallbackContext(ctx);\r\n        return ctx;\r\n    };\r\n    _context = getCoreContext();\r\n    coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n                _locale.value,\r\n                _fallbackLocale.value,\r\n                _messages.value,\r\n                _datetimeFormats.value,\r\n                _numberFormats.value\r\n            ]\r\n            ;\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            coreBase.updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = /* #__PURE__*/ vue.computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = /* #__PURE__*/ vue.computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return shared.isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !arg.resolvedMessage;\r\n    }\r\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        {\r\n            try {\r\n                coreBase.setAdditionalMeta(getMetaInfo());\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = __root\r\n                        ? coreBase.getFallbackContext()\r\n                        : undefined;\r\n                }\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                coreBase.setAdditionalMeta(null);\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if (__root &&\r\n                shared.isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        coreBase.isTranslateMissingWarn(_missingWarn, key))) {\r\n                    shared.warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\r\n        }\r\n    };\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.translate, null, [context, ...args]), () => coreBase.parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => shared.isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !shared.isObject(arg3)) {\r\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n        }\r\n        return t(...[arg1, arg2, shared.assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => shared.isString(val) || shared.isNumber(val) || shared.isBoolean(val)\r\n            ? createTextNode(String(val))\r\n            : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = Reflect.apply(coreBase.translate, null, [_context, ...args]);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => coreBase.parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => shared.isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = shared.isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return _context.messageResolver(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = coreBase.fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root && shared.inBrowser) {\r\n        vue.watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        vue.watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define basic composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [SetPluralRulesSymbol]: setPluralRules\r\n    };\r\n    {\r\n        composer.datetimeFormats = datetimeFormats;\r\n        composer.numberFormats = numberFormats;\r\n        composer.rt = rt;\r\n        composer.te = te;\r\n        composer.tm = tm;\r\n        composer.d = d;\r\n        composer.n = n;\r\n        composer.getDateTimeFormat = getDateTimeFormat;\r\n        composer.setDateTimeFormat = setDateTimeFormat;\r\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\r\n        composer.getNumberFormat = getNumberFormat;\r\n        composer.setNumberFormat = setNumberFormat;\r\n        composer.mergeNumberFormat = mergeNumberFormat;\r\n        composer[InejctWithOption] = options.__injectWithOption;\r\n        composer[TransrateVNodeSymbol] = transrateVNode;\r\n        composer[DatetimePartsSymbol] = datetimeParts;\r\n        composer[NumberPartsSymbol] = numberParts;\r\n    }\r\n    // for vue-devtools timeline event\r\n    {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE;\r\n    const fallbackLocale = shared.isString(options.fallbackLocale) ||\r\n        shared.isArray(options.fallbackLocale) ||\r\n        shared.isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = shared.isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = shared.isBoolean(options.silentTranslationWarn) ||\r\n        shared.isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) ||\r\n        shared.isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = shared.isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = shared.isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\r\n    if (options.formatter) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n    }\r\n    if (options.preserveDirectiveContent) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n    }\r\n    let messages = options.messages;\r\n    if (shared.isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            shared.assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageResolver: options.messageResolver,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createVueI18n(options = {}, VueI18nLegacy) {\r\n    {\r\n        const composer = createComposer(convertComposerOptions(options));\r\n        // defines VueI18n\r\n        const vueI18n = {\r\n            // id\r\n            id: composer.id,\r\n            // locale\r\n            get locale() {\r\n                return composer.locale.value;\r\n            },\r\n            set locale(val) {\r\n                composer.locale.value = val;\r\n            },\r\n            // fallbackLocale\r\n            get fallbackLocale() {\r\n                return composer.fallbackLocale.value;\r\n            },\r\n            set fallbackLocale(val) {\r\n                composer.fallbackLocale.value = val;\r\n            },\r\n            // messages\r\n            get messages() {\r\n                return composer.messages.value;\r\n            },\r\n            // datetimeFormats\r\n            get datetimeFormats() {\r\n                return composer.datetimeFormats.value;\r\n            },\r\n            // numberFormats\r\n            get numberFormats() {\r\n                return composer.numberFormats.value;\r\n            },\r\n            // availableLocales\r\n            get availableLocales() {\r\n                return composer.availableLocales;\r\n            },\r\n            // formatter\r\n            get formatter() {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n                // dummy\r\n                return {\r\n                    interpolate() {\r\n                        return [];\r\n                    }\r\n                };\r\n            },\r\n            set formatter(val) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n            },\r\n            // missing\r\n            get missing() {\r\n                return composer.getMissingHandler();\r\n            },\r\n            set missing(handler) {\r\n                composer.setMissingHandler(handler);\r\n            },\r\n            // silentTranslationWarn\r\n            get silentTranslationWarn() {\r\n                return shared.isBoolean(composer.missingWarn)\r\n                    ? !composer.missingWarn\r\n                    : composer.missingWarn;\r\n            },\r\n            set silentTranslationWarn(val) {\r\n                composer.missingWarn = shared.isBoolean(val) ? !val : val;\r\n            },\r\n            // silentFallbackWarn\r\n            get silentFallbackWarn() {\r\n                return shared.isBoolean(composer.fallbackWarn)\r\n                    ? !composer.fallbackWarn\r\n                    : composer.fallbackWarn;\r\n            },\r\n            set silentFallbackWarn(val) {\r\n                composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\r\n            },\r\n            // modifiers\r\n            get modifiers() {\r\n                return composer.modifiers;\r\n            },\r\n            // formatFallbackMessages\r\n            get formatFallbackMessages() {\r\n                return composer.fallbackFormat;\r\n            },\r\n            set formatFallbackMessages(val) {\r\n                composer.fallbackFormat = val;\r\n            },\r\n            // postTranslation\r\n            get postTranslation() {\r\n                return composer.getPostTranslationHandler();\r\n            },\r\n            set postTranslation(handler) {\r\n                composer.setPostTranslationHandler(handler);\r\n            },\r\n            // sync\r\n            get sync() {\r\n                return composer.inheritLocale;\r\n            },\r\n            set sync(val) {\r\n                composer.inheritLocale = val;\r\n            },\r\n            // warnInHtmlMessage\r\n            get warnHtmlInMessage() {\r\n                return composer.warnHtmlMessage ? 'warn' : 'off';\r\n            },\r\n            set warnHtmlInMessage(val) {\r\n                composer.warnHtmlMessage = val !== 'off';\r\n            },\r\n            // escapeParameterHtml\r\n            get escapeParameterHtml() {\r\n                return composer.escapeParameter;\r\n            },\r\n            set escapeParameterHtml(val) {\r\n                composer.escapeParameter = val;\r\n            },\r\n            // preserveDirectiveContent\r\n            get preserveDirectiveContent() {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n                return true;\r\n            },\r\n            set preserveDirectiveContent(val) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n            },\r\n            // pluralizationRules\r\n            get pluralizationRules() {\r\n                return composer.pluralRules || {};\r\n            },\r\n            // for internal\r\n            __composer: composer,\r\n            // t\r\n            t(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = {};\r\n                let list = null;\r\n                let named = null;\r\n                if (!shared.isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (shared.isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (shared.isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (shared.isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (shared.isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (shared.isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            rt(...args) {\r\n                return Reflect.apply(composer.rt, composer, [...args]);\r\n            },\r\n            // tc\r\n            tc(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = { plural: 1 };\r\n                let list = null;\r\n                let named = null;\r\n                if (!shared.isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (shared.isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (shared.isNumber(arg2)) {\r\n                    options.plural = arg2;\r\n                }\r\n                else if (shared.isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (shared.isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (shared.isString(arg3)) {\r\n                    options.locale = arg3;\r\n                }\r\n                else if (shared.isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (shared.isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            // te\r\n            te(key, locale) {\r\n                return composer.te(key, locale);\r\n            },\r\n            // tm\r\n            tm(key) {\r\n                return composer.tm(key);\r\n            },\r\n            // getLocaleMessage\r\n            getLocaleMessage(locale) {\r\n                return composer.getLocaleMessage(locale);\r\n            },\r\n            // setLocaleMessage\r\n            setLocaleMessage(locale, message) {\r\n                composer.setLocaleMessage(locale, message);\r\n            },\r\n            // mergeLocaleMessage\r\n            mergeLocaleMessage(locale, message) {\r\n                composer.mergeLocaleMessage(locale, message);\r\n            },\r\n            // d\r\n            d(...args) {\r\n                return Reflect.apply(composer.d, composer, [...args]);\r\n            },\r\n            // getDateTimeFormat\r\n            getDateTimeFormat(locale) {\r\n                return composer.getDateTimeFormat(locale);\r\n            },\r\n            // setDateTimeFormat\r\n            setDateTimeFormat(locale, format) {\r\n                composer.setDateTimeFormat(locale, format);\r\n            },\r\n            // mergeDateTimeFormat\r\n            mergeDateTimeFormat(locale, format) {\r\n                composer.mergeDateTimeFormat(locale, format);\r\n            },\r\n            // n\r\n            n(...args) {\r\n                return Reflect.apply(composer.n, composer, [...args]);\r\n            },\r\n            // getNumberFormat\r\n            getNumberFormat(locale) {\r\n                return composer.getNumberFormat(locale);\r\n            },\r\n            // setNumberFormat\r\n            setNumberFormat(locale, format) {\r\n                composer.setNumberFormat(locale, format);\r\n            },\r\n            // mergeNumberFormat\r\n            mergeNumberFormat(locale, format) {\r\n                composer.mergeNumberFormat(locale, format);\r\n            },\r\n            // getChoiceIndex\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            getChoiceIndex(choice, choicesLength) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\r\n                return -1;\r\n            },\r\n            // for internal\r\n            __onComponentInstanceCreated(target) {\r\n                const { componentInstanceCreatedListener } = options;\r\n                if (componentInstanceCreatedListener) {\r\n                    componentInstanceCreatedListener(target, vueI18n);\r\n                }\r\n            }\r\n        };\r\n        // for vue-devtools timeline event\r\n        {\r\n            vueI18n.__enableEmitter = (emitter) => {\r\n                const __composer = composer;\r\n                __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n            };\r\n            vueI18n.__disableEmitter = () => {\r\n                const __composer = composer;\r\n                __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n            };\r\n        }\r\n        return vueI18n;\r\n    }\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        validator: (val /* ComponetI18nScope */) => val === 'parent' || val === 'global',\r\n        default: 'parent' /* ComponetI18nScope */\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\nfunction getInterpolateArg(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n{ slots }, // SetupContext,\r\nkeys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot with list\r\n        const ret = slots.default ? slots.default() : [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return ret.reduce((slot, current) => {\r\n            return (slot = [\r\n                ...slot,\r\n                ...(shared.isArray(current.children) ? current.children : [current])\r\n            ]);\r\n        }, []);\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getFragmentableTag(tag) {\r\n    return vue.Fragment ;\r\n}\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: shared.assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => shared.isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        return () => {\r\n            const keys = Object.keys(slots).filter(key => key !== '_');\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = shared.assign({}, attrs);\r\n            const tag = shared.isString(props.tag) || shared.isObject(props.tag)\r\n                ? props.tag\r\n                : getFragmentableTag();\r\n            return vue.h(tag, assignedAttrs, children);\r\n        };\r\n    }\r\n};\n\nfunction isVNode(target) {\r\n    return shared.isArray(target) && !shared.isString(target[0]);\r\n}\r\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (shared.isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (shared.isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (shared.isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? shared.assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (shared.isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                const node = slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n                if (isVNode(node)) {\r\n                    node[0].key = `${part.type}-${index}`;\r\n                }\r\n                return node;\r\n            });\r\n        }\r\n        else if (shared.isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = shared.assign({}, attrs);\r\n        const tag = shared.isString(props.tag) || shared.isObject(props.tag)\r\n            ? props.tag\r\n            : getFragmentableTag();\r\n        return vue.h(tag, assignedAttrs, children);\r\n    };\r\n}\n\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: shared.assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, coreBase.NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat =  /*defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: shared.assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, coreBase.DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$1(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const _process = (binding) => {\r\n        const { instance, modifiers, value } = binding;\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const composer = getComposer$1(i18n, instance.$);\r\n        if (modifiers.preserve) {\r\n            shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        return [\r\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\r\n            composer\r\n        ];\r\n    };\r\n    const register = (el, binding) => {\r\n        const [textContent, composer] = _process(binding);\r\n        if (shared.inBrowser && i18n.global === composer) {\r\n            // global scope only\r\n            el.__i18nWatcher = vue.watch(composer.locale, () => {\r\n                binding.instance && binding.instance.$forceUpdate();\r\n            });\r\n        }\r\n        el.__composer = composer;\r\n        el.textContent = textContent;\r\n    };\r\n    const unregister = (el) => {\r\n        if (shared.inBrowser && el.__i18nWatcher) {\r\n            el.__i18nWatcher();\r\n            el.__i18nWatcher = undefined;\r\n            delete el.__i18nWatcher;\r\n        }\r\n        if (el.__composer) {\r\n            el.__composer = undefined;\r\n            delete el.__composer;\r\n        }\r\n    };\r\n    const update = (el, { value }) => {\r\n        if (el.__composer) {\r\n            const composer = el.__composer;\r\n            const parsedValue = parseValue(value);\r\n            el.textContent = Reflect.apply(composer.t, composer, [\r\n                ...makeParams(parsedValue)\r\n            ]);\r\n        }\r\n    };\r\n    const getSSRProps = (binding) => {\r\n        const [textContent] = _process(binding);\r\n        return { textContent };\r\n    };\r\n    return {\r\n        created: register,\r\n        unmounted: unregister,\r\n        beforeUpdate: update,\r\n        getSSRProps\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (shared.isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (shared.isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (shared.isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (shared.isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (shared.isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = shared.isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = shared.isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if (globalInstall && useI18nComponentName) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    {\r\n        app.directive('t', vTDirective(i18n));\r\n    }\r\n}\n\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            if (options.__i18nGlobal) {\r\n                adjustI18nResources(composer, options, options);\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n        },\r\n        unmounted() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst I18nInjectionKey = \r\n/* #__PURE__*/ shared.makeSymbol('global-vue-i18n');\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction createI18n(options = {}, VueI18nLegacy) {\r\n    // prettier-ignore\r\n    const __legacyMode = shared.isBoolean(options.legacy)\r\n            ? options.legacy\r\n            : true;\r\n    // prettier-ignore\r\n    const __globalInjection = shared.isBoolean(options.globalInjection)\r\n        ? options.globalInjection\r\n        : true;\r\n    // prettier-ignore\r\n    const __allowComposition = __legacyMode\r\n            ? !!options.allowComposition\r\n            : true;\r\n    const __instances = new Map();\r\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\r\n    const symbol = shared.makeSymbol('vue-i18n' );\r\n    function __getInstance(component) {\r\n        return __instances.get(component) || null;\r\n    }\r\n    function __setInstance(component, instance) {\r\n        __instances.set(component, instance);\r\n    }\r\n    function __deleteInstance(component) {\r\n        __instances.delete(component);\r\n    }\r\n    {\r\n        const i18n = {\r\n            // mode\r\n            get mode() {\r\n                return __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition';\r\n            },\r\n            // allowComposition\r\n            get allowComposition() {\r\n                return __allowComposition;\r\n            },\r\n            // install plugin\r\n            async install(app, ...options) {\r\n                // setup global provider\r\n                app.__VUE_I18N_SYMBOL__ = symbol;\r\n                app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n                // global method and properties injection for Composition API\r\n                if (!__legacyMode && __globalInjection) {\r\n                    injectGlobalFields(app, i18n.global);\r\n                }\r\n                // install built-in components and directive\r\n                {\r\n                    apply(app, i18n, ...options);\r\n                }\r\n                // setup mixin for Legacy API\r\n                if (__legacyMode) {\r\n                    app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n                }\r\n                // release global scope\r\n                const unmountApp = app.unmount;\r\n                app.unmount = () => {\r\n                    i18n.dispose();\r\n                    unmountApp();\r\n                };\r\n            },\r\n            // global accessor\r\n            get global() {\r\n                return __global;\r\n            },\r\n            dispose() {\r\n                globalScope.stop();\r\n            },\r\n            // @internal\r\n            __instances,\r\n            // @internal\r\n            __getInstance,\r\n            // @internal\r\n            __setInstance,\r\n            // @internal\r\n            __deleteInstance\r\n        };\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction useI18n(options = {}) {\r\n    const instance = vue.getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\r\n    }\r\n    if (!instance.isCE &&\r\n        instance.appContext.app != null &&\r\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\r\n    }\r\n    const i18n = getI18nInstance(instance);\r\n    const global = getGlobalComposer(i18n);\r\n    const componentOptions = getComponentOptions(instance);\r\n    const scope = getScope(options, componentOptions);\r\n    {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (i18n.mode === 'legacy' && !options.__useComponent) {\r\n            if (!i18n.allowComposition) {\r\n                throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\r\n            }\r\n            return useI18nForLegacy(instance, scope, global, options);\r\n        }\r\n    }\r\n    if (scope === 'global') {\r\n        adjustI18nResources(global, options, componentOptions);\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const composerOptions = shared.assign({}, options);\r\n        if ('__i18n' in componentOptions) {\r\n            composerOptions.__i18n = componentOptions.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst castToVueI18n =  (i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) => {\r\n    if (!(__VUE_I18N_BRIDGE__ in i18n)) {\r\n        throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\r\n    }\r\n    return i18n;\r\n};\r\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const scope = vue.effectScope();\r\n    {\r\n        const obj = legacyMode\r\n            ? scope.run(() => createVueI18n(options))\r\n            : scope.run(() => createComposer(options));\r\n        if (obj == null) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        return [scope, obj];\r\n    }\r\n}\r\nfunction getI18nInstance(instance) {\r\n    {\r\n        const i18n = vue.inject(!instance.isCE\r\n            ? instance.appContext.app.__VUE_I18N_SYMBOL__\r\n            : I18nInjectionKey);\r\n        /* istanbul ignore if */\r\n        if (!i18n) {\r\n            throw createI18nError(!instance.isCE\r\n                ? I18nErrorCodes.UNEXPECTED_ERROR\r\n                : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\r\n        }\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getScope(options, componentOptions) {\r\n    // prettier-ignore\r\n    return shared.isEmptyObject(options)\r\n        ? ('__i18n' in componentOptions)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n}\r\nfunction getGlobalComposer(i18n) {\r\n    // prettier-ignore\r\n    return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer\r\n        ;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            {\r\n                const vueI18n = i18nInternal.__getInstance(current);\r\n                if (vueI18n != null) {\r\n                    composer = vueI18n\r\n                        .__composer;\r\n                    if (useComponent &&\r\n                        composer &&\r\n                        !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) {\r\n                        composer = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    {\r\n        vue.onMounted(() => {\r\n        }, target);\r\n        vue.onUnmounted(() => {\r\n            i18n.__deleteInstance(target);\r\n        }, target);\r\n    }\r\n}\r\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const isLocale = scope === 'local';\r\n    const _composer = vue.shallowRef(null);\r\n    if (isLocale &&\r\n        instance.proxy &&\r\n        !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\r\n        throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\r\n    }\r\n    const _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : coreBase.DEFAULT_LOCALE);\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _missingWarn = isLocale\r\n        ? root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackWarn = isLocale\r\n        ? root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackRoot = isLocale\r\n        ? root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    const _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    const _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    // postTranslation handler\r\n    const _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    const _warnHtmlMessage = isLocale\r\n        ? root.warnHtmlMessage\r\n        : shared.isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    const _escapeParameter = !!options.escapeParameter;\r\n    // prettier-ignore\r\n    const _modifiers = isLocale\r\n        ? root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    const _pluralRules = options.pluralRules || (isLocale && root.pluralRules);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => {\r\n            return _composer.value ? _composer.value.locale.value : _locale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.locale.value = val;\r\n            }\r\n            _locale.value = val;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => {\r\n            return _composer.value\r\n                ? _composer.value.fallbackLocale.value\r\n                : _fallbackLocale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackLocale.value = val;\r\n            }\r\n            _fallbackLocale.value = val;\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => {\r\n        if (_composer.value) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _composer.value.messages.value;\r\n        }\r\n        else {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _messages.value;\r\n        }\r\n    });\r\n    const datetimeFormats = vue.computed(() => _datetimeFormats.value);\r\n    const numberFormats = vue.computed(() => _numberFormats.value);\r\n    function getPostTranslationHandler() {\r\n        return _composer.value\r\n            ? _composer.value.getPostTranslationHandler()\r\n            : _postTranslation;\r\n    }\r\n    function setPostTranslationHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setPostTranslationHandler(handler);\r\n        }\r\n    }\r\n    function getMissingHandler() {\r\n        return _composer.value ? _composer.value.getMissingHandler() : _missing;\r\n    }\r\n    function setMissingHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setMissingHandler(handler);\r\n        }\r\n    }\r\n    function warpWithDeps(fn) {\r\n        trackReactivityValues();\r\n        return fn();\r\n    }\r\n    function t(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function rt(...args) {\r\n        return _composer.value\r\n            ? Reflect.apply(_composer.value.rt, null, [...args])\r\n            : '';\r\n    }\r\n    function d(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function n(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function tm(key) {\r\n        return _composer.value ? _composer.value.tm(key) : {};\r\n    }\r\n    function te(key, locale) {\r\n        return _composer.value ? _composer.value.te(key, locale) : false;\r\n    }\r\n    function getLocaleMessage(locale) {\r\n        return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\r\n    }\r\n    function setLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.setLocaleMessage(locale, message);\r\n            _messages.value[locale] = message;\r\n        }\r\n    }\r\n    function mergeLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeLocaleMessage(locale, message);\r\n        }\r\n    }\r\n    function getDateTimeFormat(locale) {\r\n        return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\r\n    }\r\n    function setDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setDateTimeFormat(locale, format);\r\n            _datetimeFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeDateTimeFormat(locale, format);\r\n        }\r\n    }\r\n    function getNumberFormat(locale) {\r\n        return _composer.value ? _composer.value.getNumberFormat(locale) : {};\r\n    }\r\n    function setNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setNumberFormat(locale, format);\r\n            _numberFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeNumberFormat(locale, format);\r\n        }\r\n    }\r\n    const wrapper = {\r\n        get id() {\r\n            return _composer.value ? _composer.value.id : -1;\r\n        },\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get inheritLocale() {\r\n            return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            if (_composer.value) {\r\n                _composer.value.inheritLocale = val;\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return _composer.value\r\n                ? _composer.value.availableLocales\r\n                : Object.keys(_messages.value);\r\n        },\r\n        get modifiers() {\r\n            return (_composer.value ? _composer.value.modifiers : _modifiers);\r\n        },\r\n        get pluralRules() {\r\n            return (_composer.value ? _composer.value.pluralRules : _pluralRules);\r\n        },\r\n        get isGlobal() {\r\n            return _composer.value ? _composer.value.isGlobal : false;\r\n        },\r\n        get missingWarn() {\r\n            return _composer.value ? _composer.value.missingWarn : _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackWarn() {\r\n            return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackRoot() {\r\n            return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackRoot = val;\r\n            }\r\n        },\r\n        get fallbackFormat() {\r\n            return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackFormat = val;\r\n            }\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _composer.value\r\n                ? _composer.value.warnHtmlMessage\r\n                : _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            if (_composer.value) {\r\n                _composer.value.warnHtmlMessage = val;\r\n            }\r\n        },\r\n        get escapeParameter() {\r\n            return _composer.value\r\n                ? _composer.value.escapeParameter\r\n                : _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            if (_composer.value) {\r\n                _composer.value.escapeParameter = val;\r\n            }\r\n        },\r\n        t,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        rt,\r\n        d,\r\n        n,\r\n        tm,\r\n        te,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat\r\n    };\r\n    function sync(composer) {\r\n        composer.locale.value = _locale.value;\r\n        composer.fallbackLocale.value = _fallbackLocale.value;\r\n        Object.keys(_messages.value).forEach(locale => {\r\n            composer.mergeLocaleMessage(locale, _messages.value[locale]);\r\n        });\r\n        Object.keys(_datetimeFormats.value).forEach(locale => {\r\n            composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\r\n        });\r\n        Object.keys(_numberFormats.value).forEach(locale => {\r\n            composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\r\n        });\r\n        composer.escapeParameter = _escapeParameter;\r\n        composer.fallbackFormat = _fallbackFormat;\r\n        composer.fallbackRoot = _fallbackRoot;\r\n        composer.fallbackWarn = _fallbackWarn;\r\n        composer.missingWarn = _missingWarn;\r\n        composer.warnHtmlMessage = _warnHtmlMessage;\r\n    }\r\n    vue.onBeforeMount(() => {\r\n        if (instance.proxy == null || instance.proxy.$i18n == null) {\r\n            throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const composer = (_composer.value = instance.proxy.$i18n\r\n            .__composer);\r\n        if (scope === 'global') {\r\n            _locale.value = composer.locale.value;\r\n            _fallbackLocale.value = composer.fallbackLocale.value;\r\n            _messages.value = composer.messages.value;\r\n            _datetimeFormats.value = composer.datetimeFormats.value;\r\n            _numberFormats.value = composer.numberFormats.value;\r\n        }\r\n        else if (isLocale) {\r\n            sync(composer);\r\n        }\r\n    });\r\n    return wrapper;\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'] ;\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const wrap = vue.isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\ncoreBase.registerMessageCompiler(coreBase.compileToFunction);\r\n// register message resolver at vue-i18n\r\ncoreBase.registerMessageResolver(coreBase.resolveValue);\r\n// register fallback locale at vue-i18n\r\ncoreBase.registerLocaleFallbacker(coreBase.fallbackWithLocaleChain);\r\n// NOTE: experimental !!\r\n{\r\n    const target = shared.getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\n\nexports.DatetimeFormat = DatetimeFormat;\nexports.I18nInjectionKey = I18nInjectionKey;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.castToVueI18n = castToVueI18n;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;\n"],"names":["Object","defineProperty","vueI18n_cjs","value","shared","require$$0","require$$1","vue","require$$2","VERSION","code$1","coreBase","CoreWarnCodes","__EXTEND_POINT__","inc$1","I18nWarnCodes","FALLBACK_TO_ROOT","NOT_SUPPORTED_PRESERVE","NOT_SUPPORTED_FORMATTER","NOT_SUPPORTED_PRESERVE_DIRECTIVE","NOT_SUPPORTED_GET_CHOICE_INDEX","COMPONENT_NAME_LEGACY_COMPATIBLE","NOT_FOUND_PARENT_SCOPE","warnMessages","getWarnMessage","code","args","format","CompileErrorCodes","inc","I18nErrorCodes","UNEXPECTED_RETURN_TYPE","INVALID_ARGUMENT","MUST_BE_CALL_SETUP_TOP","NOT_INSLALLED","NOT_AVAILABLE_IN_LEGACY_MODE","REQUIRED_VALUE","INVALID_VALUE","CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN","NOT_INSLALLED_WITH_PROVIDE","UNEXPECTED_ERROR","NOT_COMPATIBLE_LEGACY_VUE_I18N","BRIDGE_SUPPORT_VUE_2_ONLY","MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION","NOT_AVAILABLE_COMPOSITION_IN_LEGACY","createI18nError","createCompileError","messages","errorMessages","TransrateVNodeSymbol","makeSymbol","DatetimePartsSymbol","NumberPartsSymbol","DisableEmitter","SetPluralRulesSymbol","InejctWithOption","handleFlatJson","obj","isObject","hasOwn","key","includes","subKeys","split","lastIndex","length","currentObj","i","getLocaleMessages","locale","options","__i18n","messageResolver","flatJson","ret","isPlainObject","isArray","forEach","custom","resource","deepCopy","isString","JSON","parse","isNotObjectOrIsArray","val","src","des","instance","type","adjustI18nResources","global","componentOptions","__i18nGlobal","keys","locales","mergeLocaleMessage","datetimeFormats","mergeDateTimeFormat","numberFormats","mergeNumberFormat","createVNode","Text","DEVTOOLS_META","composerID","missing","ctx","getCurrentInstance","undefined","createComposer","VueI18nLegacy","__root","_inheritLocale","isBoolean","inheritLocale","ref","DEFAULT_LOCALE","_fallbackLocale","fallbackLocale","_locale","_messages","_datetimeFormats","_numberFormats","_missingWarn","missingWarn","isRegExp","_fallbackWarn","fallbackWarn","_fallbackRoot","fallbackRoot","fallbackFormat","_missing","isFunction","_runtimeMissing","defineCoreMissingHandler","_postTranslation","postTranslation","_warnHtmlMessage","warnHtmlMessage","_escapeParameter","escapeParameter","_modifiers","modifiers","_context","_pluralRules","pluralRules","_isGlobal","setFallbackContext","ctxOptions","version","_fallbackFormat","unresolving","__meta","framework","__datetimeFormatters","__numberFormatters","__v_emitter","createCoreContext","getCoreContext","updateFallbackLocale","computed","get","set","wrapWithDeps","fn","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","setAdditionalMeta","meta","getComponentOptions","getMetaInfo","fallbackContext","getFallbackContext","isNumber","NOT_REOSLVED","arg2","arg","resolvedMessage","isTranslateFallbackWarn","isTranslateMissingWarn","warn","emitter","emit","to","groupId","t","context","Reflect","apply","translate","parseTranslateArgs","root","processor","normalize","values","map","createTextNode","String","interpolate","getLocaleMessage","inBrowser","watch","composer","id","availableLocales","sort","isGlobal","setLocaleMessage","message","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","rules","rt","arg1","arg3","assign","te","tm","fallbackWithLocaleChain","targetLocaleMessages","messageValue","resolveMessages","d","datetime","parseDateTimeArgs","MISSING_RESOLVE_VALUE","n","number","parseNumberArgs","getDateTimeFormat","setDateTimeFormat","clearDateTimeFormat","getNumberFormat","setNumberFormat","clearNumberFormat","__injectWithOption","EnableEmitter","createVueI18n","silentTranslationWarn","silentFallbackWarn","formatFallbackMessages","pluralizationRules","warnHtmlInMessage","escapeParameterHtml","sync","formatter","preserveDirectiveContent","sharedMessages","reduce","convertComposerOptions","vueI18n","__composer","list","named","tc","plural","getChoiceIndex","choice","choicesLength","__onComponentInstanceCreated","target","componentInstanceCreatedListener","__enableEmitter","__disableEmitter","baseFormatProps","tag","scope","validator","default","i18n","getFragmentableTag","Fragment","Translation","name","props","keypath","required","Number","isNaN","setup","slots","attrs","useI18n","useScope","__useComponent","filter","slot","current","children","getInterpolateArg","assignedAttrs","h","slotKeys","partFormatter","part","overrides","prop","parts","index","node","renderFormatter","NUMBER_FORMAT_OPTIONS_KEYS","Date","DATETIME_FORMAT_OPTIONS_KEYS","vTDirective","binding","$","i18nInternal","mode","__getInstance","getComposer$1","preserve","parsedValue","parseValue","makeParams","created","el","textContent","_process","__i18nWatcher","$forceUpdate","unmounted","beforeUpdate","getSSRProps","path","I18nInjectionKey","isCE","appContext","app","__VUE_I18N_SYMBOL__","inject","getI18nInstance","getGlobalComposer","isEmptyObject","getScope","allowComposition","isLocale","_composer","shallowRef","proxy","$options","trackReactivityValues","warpWithDeps","wrapper","onBeforeMount","$i18n","useI18nForLegacy","useComponent","parent","getComposer","composerOptions","onMounted","onUnmounted","__deleteInstance","setupLifeCycle","__setInstance","registerMessageCompiler","compileToFunction","registerMessageResolver","resolveValue","registerLocaleFallbacker","getGlobalThis","__INTLIFY__","setDevToolsHook","__INTLIFY_DEVTOOLS_GLOBAL_HOOK__","DatetimeFormat","NumberFormat","castToVueI18n","exports","createI18n","__legacyMode","legacy","__globalInjection","globalInjection","__allowComposition","globalScope","__global","legacyMode","effectScope","run","createGlobal","symbol","async","provide","create","globalExportProps","getOwnPropertyDescriptor","desc","wrap","isRef","config","globalProperties","globalExportMethods","method","injectGlobalFields","pluginOptions","useI18nComponentName","globalInstall","component","directive","mixin","vuei18n","beforeCreate","this","optionsI18n","$root","mergeToRoot","$t","$rt","$tc","$te","$d","$n","$tm","mounted","defineMixin","unmountApp","unmount","dispose","stop","__instances","delete"],"mappings":"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"}