System.register(["./index-legacy-7f75df50.js","./index-legacy-1cf689c4.js","./vue-legacy-ad0cdcd9.js","./index-legacy-06c116be.js","./lodash-es-legacy-9b7a5f41.js","./error-legacy-d59203b1.js","./async-validator-legacy-a20d481d.js","./index-legacy-a056082c.js"],(function(e,l){"use strict";var t,r,a,i,n,o,s,u,d,c,v,p,f,m,g,h,b,y,w,S,j,k,W,F,x,q,B,I,M,$,A,E,P,L,O,_,R,C,V,z,N,T,G,H,Q,U,Y,Z,D,J,K,X,ee;return{setters:[e=>{t=e.b,r=e.e,a=e._,i=e.w,n=e.d},e=>{o=e.h,s=e.b,u=e.g,d=e.f,c=e.a},e=>{v=e.aa,p=e.Y,f=e.r,m=e.c,g=e.k,h=e.w,b=e.p,y=e.a,w=e.H,S=e.M,j=e.N,k=e.O,W=e.P,F=e.u,x=e.ad,q=e.i,B=e.b,I=e.l,M=e.B,$=e.j,A=e.F,E=e.n,P=e.aj,L=e.S,O=e.R,_=e.y,R=e.U,C=e.Q,V=e.W,z=e.$,N=e.Z,T=e.T},e=>{G=e.p,H=e.u,Q=e.x,U=e.b,Y=e.y},e=>{Z=e.c,D=e.a},e=>{J=e.d,K=e.t},e=>{X=e.S},e=>{ee=e.u}],execute:function(){const l=t({model:Object,rules:{type:r(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:o},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),le={validate:(e,l,t)=>(v(e)||p(e))&&G(l)&&p(t)};function te(){const e=f([]),l=m((()=>{if(!e.value.length)return"0";const l=Math.max(...e.value);return l?`${l}px`:""}));function t(t){const r=e.value.indexOf(t);return-1===r&&l.value,r}return{autoLabelWidth:l,registerLabelWidth:function(l,r){if(l&&r){const a=t(r);e.value.splice(a,1,l)}else l&&e.value.push(l)},deregisterLabelWidth:function(l){const r=t(l);r>-1&&e.value.splice(r,1)}}}const re=(e,l)=>{const t=Z(l);return t.length>0?e.filter((e=>e.prop&&t.includes(e.prop))):e},ae=g({name:"ElForm"}),ie=g({...ae,props:l,emits:le,setup(e,{expose:l,emit:t}){const r=e,a=[],i=s(),n=H("form"),o=m((()=>{const{labelPosition:e,inline:l}=r;return[n.b(),n.m(i.value||"default"),{[n.m(`label-${e}`)]:e,[n.m("inline")]:l}]})),d=(e=[])=>{r.model&&re(a,e).forEach((e=>e.resetField()))},c=(e=[])=>{re(a,e).forEach((e=>e.clearValidate()))},v=m((()=>!!r.model)),p=async e=>g(void 0,e),f=async(e=[])=>{if(!v.value)return!1;const l=(e=>{if(0===a.length)return[];const l=re(a,e);return l.length?l:[]})(e);if(0===l.length)return!0;let t={};for(const a of l)try{await a.validate("")}catch(r){t={...t,...r}}return 0===Object.keys(t).length||Promise.reject(t)},g=async(e=[],l)=>{const t=!x(l);try{const t=await f(e);return!0===t&&(null==l||l(t)),t}catch(a){if(a instanceof Error)throw a;const e=a;return r.scrollToError&&q(Object.keys(e)[0]),null==l||l(!1,e),t&&Promise.reject(e)}},q=e=>{var l;const t=re(a,e)[0];t&&(null==(l=t.$el)||l.scrollIntoView())};return h((()=>r.rules),(()=>{r.validateOnRuleChange&&p().catch((e=>J()))}),{deep:!0}),b(u,y({...w(r),emit:t,resetFields:d,clearValidate:c,validateField:g,addField:e=>{a.push(e)},removeField:e=>{e.prop&&a.splice(a.indexOf(e),1)},...te()})),l({validate:p,validateField:g,resetFields:d,clearValidate:c,scrollToField:q}),(e,l)=>(S(),j("form",{class:W(F(o))},[k(e.$slots,"default")],2))}});var ne=a(ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);const oe=t({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:r([String,Array])},required:{type:Boolean,default:void 0},rules:{type:r([Object,Array])},error:String,validateStatus:{type:String,values:["","error","validating","success"]},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:o}}),se="ElLabelWrap";var ue=g({name:se,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:l}){const t=q(u,void 0),r=q(d);r||K(se,"usage: <el-form-item><label-wrap /></el-form-item>");const a=H("form"),i=f(),n=f(0),o=(r="update")=>{E((()=>{l.default&&e.isAutoWidth&&("update"===r?n.value=(()=>{var e;if(null==(e=i.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0})():"remove"===r&&(null==t||t.deregisterLabelWidth(n.value)))}))},s=()=>o("update");return B((()=>{s()})),I((()=>{o("remove")})),M((()=>s())),h(n,((l,r)=>{e.updateAll&&(null==t||t.registerLabelWidth(l,r))})),ee(m((()=>{var e,l;return null!=(l=null==(e=i.value)?void 0:e.firstElementChild)?l:null})),s),()=>{var o,s;if(!l)return null;const{isAutoWidth:u}=e;if(u){const e=null==t?void 0:t.autoLabelWidth,s={};if((null==r?void 0:r.hasLabel)&&e&&"auto"!==e){const l=Math.max(0,Number.parseInt(e,10)-n.value),r="left"===t.labelPosition?"marginRight":"marginLeft";l&&(s[r]=`${l}px`)}return $("div",{ref:i,class:[a.be("item","label-wrap")],style:s},[null==(o=l.default)?void 0:o.call(l)])}return $(A,{ref:i},[null==(s=l.default)?void 0:s.call(l)])}}});const de=["role","aria-labelledby"],ce=g({name:"ElFormItem"}),ve=g({...ce,props:oe,setup(e,{expose:l}){const t=e,r=P(),a=q(u,void 0),i=q(d,void 0),n=s(void 0,{formItem:!1}),o=H("form-item"),v=c().value,g=f([]),M=f(""),A=Q(M,100),J=f(""),K=f();let ee,le=!1;const te=m((()=>{if("top"===(null==a?void 0:a.labelPosition))return{};const e=U(t.labelWidth||(null==a?void 0:a.labelWidth)||"");return e?{width:e}:{}})),re=m((()=>{if("top"===(null==a?void 0:a.labelPosition)||(null==a?void 0:a.inline))return{};if(!t.label&&!t.labelWidth&&pe)return{};const e=U(t.labelWidth||(null==a?void 0:a.labelWidth)||"");return t.label||r.label?{}:{marginLeft:e}})),ae=m((()=>[o.b(),o.m(n.value),o.is("error","error"===M.value),o.is("validating","validating"===M.value),o.is("success","success"===M.value),o.is("required",he.value||t.required),o.is("no-asterisk",null==a?void 0:a.hideRequiredAsterisk),"right"===(null==a?void 0:a.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[o.m("feedback")]:null==a?void 0:a.statusIcon}])),ie=m((()=>G(t.inlineMessage)?t.inlineMessage:(null==a?void 0:a.inlineMessage)||!1)),ne=m((()=>[o.e("error"),{[o.em("error","inline")]:ie.value}])),oe=m((()=>t.prop?p(t.prop)?t.prop:t.prop.join("."):"")),se=m((()=>!(!t.label&&!r.label))),ce=m((()=>t.for||1===g.value.length?g.value[0]:void 0)),ve=m((()=>!ce.value&&se.value)),pe=!!i,fe=m((()=>{const e=null==a?void 0:a.model;if(e&&t.prop)return Y(e,t.prop).value})),me=m((()=>{const{required:e}=t,l=[];t.rules&&l.push(...Z(t.rules));const r=null==a?void 0:a.rules;if(r&&t.prop){const e=Y(r,t.prop).value;e&&l.push(...Z(e))}if(void 0!==e){const t=l.map(((e,l)=>[e,l])).filter((([e])=>Object.keys(e).includes("required")));if(t.length>0)for(const[r,a]of t)r.required!==e&&(l[a]={...r,required:e});else l.push({required:e})}return l})),ge=m((()=>me.value.length>0)),he=m((()=>me.value.some((e=>e.required)))),be=m((()=>{var e;return"error"===A.value&&t.showMessage&&(null==(e=null==a?void 0:a.showMessage)||e)})),ye=m((()=>`${t.label||""}${(null==a?void 0:a.labelSuffix)||""}`)),we=e=>{M.value=e},Se=async e=>{const l=oe.value;return new X({[l]:e}).validate({[l]:fe.value},{firstFields:!0}).then((()=>(we("success"),null==a||a.emit("validate",t.prop,!0,""),!0))).catch((e=>((e=>{var l,r;const{errors:i,fields:n}=e;i&&n||console.error(e),we("error"),J.value=i?null!=(r=null==(l=null==i?void 0:i[0])?void 0:l.message)?r:`${t.prop} is required`:"",null==a||a.emit("validate",t.prop,!1,J.value)})(e),Promise.reject(e))))},je=async(e,l)=>{if(le||!t.prop)return!1;const r=x(l);if(!ge.value)return null==l||l(!1),!1;const a=(e=>me.value.filter((l=>!l.trigger||!e||(Array.isArray(l.trigger)?l.trigger.includes(e):l.trigger===e))).map((({trigger:e,...l})=>l)))(e);return 0===a.length?(null==l||l(!0),!0):(we("validating"),Se(a).then((()=>(null==l||l(!0),!0))).catch((e=>{const{fields:t}=e;return null==l||l(!1,t),!r&&Promise.reject(t)})))},ke=()=>{we(""),J.value="",le=!1},We=async()=>{const e=null==a?void 0:a.model;if(!e||!t.prop)return;const l=Y(e,t.prop);le=!0,l.value=D(ee),await E(),ke(),le=!1};h((()=>t.error),(e=>{J.value=e||"",we(e?"error":"")}),{immediate:!0}),h((()=>t.validateStatus),(e=>we(e||"")));const Fe=y({...w(t),$el:K,size:n,validateState:M,labelId:v,inputIds:g,isGroup:ve,hasLabel:se,addInputId:e=>{g.value.includes(e)||g.value.push(e)},removeInputId:e=>{g.value=g.value.filter((l=>l!==e))},resetField:We,clearValidate:ke,validate:je});return b(d,Fe),B((()=>{t.prop&&(null==a||a.addField(Fe),ee=D(fe.value))})),I((()=>{null==a||a.removeField(Fe)})),l({size:n,validateMessage:J,validateState:M,validate:je,clearValidate:ke,resetField:We}),(e,l)=>{var t;return S(),j("div",{ref_key:"formItemRef",ref:K,class:W(F(ae)),role:F(ve)?"group":void 0,"aria-labelledby":F(ve)?F(v):void 0},[$(F(ue),{"is-auto-width":"auto"===F(te).width,"update-all":"auto"===(null==(t=F(a))?void 0:t.labelWidth)},{default:L((()=>[F(se)?(S(),O(V(F(ce)?"label":"div"),{key:0,id:F(v),for:F(ce),class:W(F(o).e("label")),style:C(F(te))},{default:L((()=>[k(e.$slots,"label",{label:F(ye)},(()=>[_(R(F(ye)),1)]))])),_:3},8,["id","for","class","style"])):z("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),N("div",{class:W(F(o).e("content")),style:C(F(re))},[k(e.$slots,"default"),$(T,{name:`${F(o).namespace.value}-zoom-in-top`},{default:L((()=>[F(be)?k(e.$slots,"error",{key:0,error:J.value},(()=>[N("div",{class:W(F(ne))},R(J.value),3)])):z("v-if",!0)])),_:3},8,["name"])],6)],10,de)}}});var pe=a(ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);e("a",i(ne,{FormItem:pe})),e("E",n(pe))}}}));
//# sourceMappingURL=index-legacy-2a0c9186.js.map
