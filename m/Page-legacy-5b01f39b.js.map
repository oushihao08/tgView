{"version":3,"file":"Page-legacy-5b01f39b.js","sources":["../../src/layout/Page.vue"],"sourcesContent":["<template>\n  <Column class=\"Page\" y=\"s\">\n    <van-number-keyboard safe-area-inset-bottom />\n    <van-nav-bar\n      v-if=\"!hideHeader\"\n      class=\"w-100b bg-white\"\n      fixed\n      :border=\"border\"\n      :safe-area-inset-top=\"true\"\n      :left-text=\"leftText\"\n      :left-arrow=\"leftArrow\"\n      :z-index=\"zIndex\"\n      :placeholder=\"true\"\n      @click-right=\"onClickRight\"\n    >\n      <template #left>\n        <Row v-if=\"leftArrow\" class=\"left-box\" @click.stop=\"onClickLeft\">\n          <slot name=\"left\">\n            <van-icon class=\"title c-info\" name=\"arrow-left\" />\n          </slot>\n        </Row>\n\n      </template>\n      <template #title>\n        <span class=\"font-34 bold\">{{ title }}</span>\n      </template>\n      <template #right>\n        <slot name=\"right\" />\n      </template>\n    </van-nav-bar>\n    <Column class=\"f-1 w-100b\" :class=\"bodyClass\" :x=\"x\" :y=\"y\">\n      <!-- <div v-if=\"!hideHeader\" class=\"h-92 w-100b bg-error\" /> -->\n      <van-pull-refresh\n        v-if=\"openRefresh\"\n        v-model=\"_isRefresh\"\n        :head-height=\"headHeight / scale\"\n        :pull-distance=\"headHeight / scale\"\n        class=\"w-100b f-1 position-r\"\n        @refresh=\"onRefresh\"\n      >\n        <template #pulling>\n          <Row class=\"w-100b h-92 o-hidden\" y=\"c\" x=\"c\">{{ $t('public.refreshMap.pulling') }}</Row>\n        </template>\n        <template #loosing>\n          <Row class=\"w-100b h-92 o-hidden\" y=\"c\" x=\"c\">{{ $t('public.refreshMap.loosing') }}</Row>\n        </template>\n        <template #loading>\n          <Row class=\"w-100b h-92 o-hidden\" y=\"c\" x=\"c\">{{ $t('public.refreshMap.loading') }}</Row>\n        </template>\n        <template #success>\n\n          <Row class=\"w-100b h-92 o-hidden\" y=\"c\" x=\"c\">\n            <van-icon class=\"m-r-6\" name=\"success\" />\n            <span>{{ $t('public.refreshMap.success') }}</span>\n          </Row>\n        </template>\n        <slot />\n      </van-pull-refresh>\n      <slot v-else />\n\n    </Column>\n  </Column>\n</template>\n\n<script setup>\nimport Column from '../layout/flex/Column.vue'\nimport { isEmpty } from '../utils/globalFunc'\nconst emit = defineEmits()\nconst route = useRoute()\nconst props = defineProps({\n  title: {\n    default: ''\n  },\n  hideHeader: {\n    default: hideHeader\n  },\n  leftText: {\n    default: ''\n  },\n  bodyClass: {\n    default: ''\n  },\n  border: {},\n  zIndex: {\n    default: 100\n  },\n  onClickLeft: {\n    default: () => () => {\n      console.log('--onClickLeft--')\n      if (winId) {\n        winMes.postParent('toHome')\n      } else {\n        router.go(-1)\n      }\n    }\n  },\n  onClickRight: {},\n  leftArrow: {\n    default: true\n  },\n  x: {},\n  y: {},\n  onRefresh: {},\n  isRefresh: {},\n  openRefresh: {\n    default: false\n  },\n})\n\nconst wn = 750\nconst scale = wn / innerWidth\nconst headHeight = 92\n\n// const leftArrow = $computed(() => {\n//   return true\n//   // return props.leftArrow ?? route.meta.initRouter != route.path\n// })\n\n// const _onClickLeft = () => {\n//   if (props)\n// }\nlet _isRefresh = $ref(props.isRefresh)\n\nconst href = $ref(location.href)\n\nwatch(() => props.isRefresh, (v) => {\n  _isRefresh = v\n})\nwatch(() => _isRefresh, (v) => {\n  emit('update:isRefresh', v)\n})\nonBeforeMount(() => {\n})\n</script>\n\n<style lang=\"scss\">\n\n.Page {\n  position: relative;\n  min-height: 100vh;\n  .left-box{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 96px;\n    height: var(--van-nav-bar-height);\n    z-index: 50;\n  }\n  .van-pull-refresh__head{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n}\n</style>\n"],"names":["useRoute","scale","innerWidth","_isRefresh","_ref","props","isRefresh","location","href","watch","v","value","emit","onBeforeMount"],"mappings":"6yDAoEAA,IAyCA,MACAC,EADA,IACAC;;;;;;;AAWA,IAAAC,EAAAC,EAAAC,EAAAC,kBAEAF,EAAAG,SAAAC,MAEAC,GAAA,IAAAJ,EAAAC,YAAAI,IACAP,EAAAQ,MAAAD,CAAA,IAEAD,GAAA,IAAAN,EAAAQ,QAAAD,IACAE,EAAA,mBAAAF,EAAA,IAEAG,GAAA,44BApBA,qBAAA"}