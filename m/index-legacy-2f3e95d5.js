System.register(["./vue-legacy-ad0cdcd9.js","./index-legacy-7f75df50.js","./index-legacy-06c116be.js","./vnode-legacy-42987fee.js","./index-legacy-1cf689c4.js","./index-legacy-d3dd8655.js","./focus-trap-legacy-d9e8daf6.js","./typescript-legacy-3c10c95f.js","./index-legacy-3b510e6c.js","./error-legacy-d59203b1.js","./index-legacy-51f63e39.js"],(function(e,o){"use strict";var t,l,n,s,a,r,d,u,c,i,f,p,m,y,v,g,b,h,C,w,k,x,E,M,I,S,$,A,B,R,F,L,j,_,D,z,O,T,P,N,Y,q,X,U,W,H,V,K,Z,Q,G,J,ee,oe,te,le,ne,se,ae,re,de,ue,ce,ie;return{setters:[e=>{t=e.b,l=e.m,n=e.l,s=e.f,a=e.am,r=e.w,d=e.a8,u=e.a6,c=e.k,i=e.j,f=e.O,p=e.K,m=e.i,y=e.c,v=e.M,g=e.N,b=e.Z,h=e.P,C=e.u,w=e.U,k=e.S,x=e.R,E=e.W,M=e.$,I=e.Q,S=e.r,$=e.n,A=e.g,B=e.aj,R=e.p,F=e.s,L=e.v,j=e.q,_=e.an,D=e.T,z=e.t},e=>{O=e.b,T=e.e,P=e.E,N=e._,Y=e.w},e=>{q=e.c,X=e.h,U=e.b,W=e.u,H=e.w,V=e.j,K=e.g,Z=e.p,Q=e.k,G=e.q,J=e.v},e=>{ee=e.P},e=>{oe=e.i,te=e.C,le=e.a},e=>{ne=e.u},e=>{se=e.F,ae=e.c,re=e.E},e=>{de=e.U},e=>{ue=e.u},e=>{ce=e.t},e=>{ie=e.u}],execute:function(){const o=(e,o)=>{if(!q)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(o)],l=X(e,t);return["scroll","auto","overlay"].some((e=>l.includes(e)))};let fe;e("g",((e,t)=>{if(!q)return;let l=e;for(;l;){if([window,document,document.documentElement].includes(l))return window;if(o(l,t))return l;l=l.parentNode}return l}));const pe=e=>{var o;if(!q)return 0;if(void 0!==fe)return fe;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const l=t.offsetWidth;t.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",t.appendChild(n);const s=n.offsetWidth;return null==(o=t.parentNode)||o.removeChild(t),fe=l-s,fe},me=Symbol("dialogInjectionKey"),ye=(e,o,s)=>{let a={offsetX:0,offsetY:0};const r=o=>{const t=o.clientX,l=o.clientY,{offsetX:n,offsetY:s}=a,r=e.value.getBoundingClientRect(),d=r.left,u=r.top,c=r.width,i=r.height,f=document.documentElement.clientWidth,p=document.documentElement.clientHeight,m=-d+n,y=-u+s,v=f-d-c+n,g=p-u-i+s,b=o=>{const r=Math.min(Math.max(n+o.clientX-t,m),v),d=Math.min(Math.max(s+o.clientY-l,y),g);a={offsetX:r,offsetY:d},e.value.style.transform=`translate(${U(r)}, ${U(d)})`},h=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",h)},d=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",r)};t((()=>{l((()=>{s.value?o.value&&e.value&&o.value.addEventListener("mousedown",r):d()}))})),n((()=>{d()}))},ve=e=>{if(!e)return{onClick:u,onMousedown:u,onMouseup:u};let o=!1,t=!1;return{onClick:l=>{o&&t&&e(l),o=t=!1},onMousedown:e=>{o=e.target===e.currentTarget},onMouseup:e=>{t=e.target===e.currentTarget}}},ge=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:T([String,Array,Object])},zIndex:{type:T([String,Number])}}),be=c({name:"ElOverlay",props:ge,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:o,emit:t}){const l=W("overlay"),{onClick:n,onMousedown:s,onMouseup:a}=ve(e.customMaskEvent?void 0:e=>{t("click",e)});return()=>e.mask?i("div",{class:[l.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:s,onMouseup:a},[f(o,"default")],ee.STYLE|ee.CLASS|ee.PROPS,["onClick","onMouseup","onMousedown"]):p("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[f(o,"default")])}}),he=O({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:oe},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Ce=["aria-label"],we=["id"],ke=c({name:"ElDialogContent"}),xe=c({...ke,props:he,emits:{close:()=>!0},setup(e){const o=e,{t:t}=ne(),{Close:l}=te,{dialogRef:n,headerRef:s,bodyId:a,ns:r,style:d}=m(me),{focusTrapRef:u}=m(se),c=ae(u,n),p=y((()=>o.draggable));return ye(n,s,p),(e,o)=>(v(),g("div",{ref:C(c),class:h([C(r).b(),C(r).is("fullscreen",e.fullscreen),C(r).is("draggable",C(p)),C(r).is("align-center",e.alignCenter),{[C(r).m("center")]:e.center},e.customClass]),style:I(C(d)),tabindex:"-1"},[b("header",{ref_key:"headerRef",ref:s,class:h(C(r).e("header"))},[f(e.$slots,"header",{},(()=>[b("span",{role:"heading",class:h(C(r).e("title"))},w(e.title),3)])),e.showClose?(v(),g("button",{key:0,"aria-label":C(t)("el.dialog.close"),class:h(C(r).e("headerbtn")),type:"button",onClick:o[0]||(o[0]=o=>e.$emit("close"))},[i(C(P),{class:h(C(r).e("close"))},{default:k((()=>[(v(),x(E(e.closeIcon||C(l))))])),_:1},8,["class"])],10,Ce)):M("v-if",!0)],2),b("div",{id:C(a),class:h(C(r).e("body"))},[f(e.$slots,"default")],10,we),e.$slots.footer?(v(),g("footer",{key:0,class:h(C(r).e("footer"))},[f(e.$slots,"footer")],2)):M("v-if",!0)],6))}});var Ee=N(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Me=O({...he,appendToBody:{type:Boolean,default:!1},beforeClose:{type:T(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Ie={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[de]:e=>Z(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Se=(e,o)=>{const l=A().emit,{nextZIndex:n}=ue();let u="";const c=le(),i=le(),f=S(!1),p=S(!1),m=S(!1),v=S(e.zIndex||n());let g,b;const h=Q("namespace",G),C=y((()=>{const o={},t=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(o[`${t}-margin-top`]=e.top),e.width&&(o[`${t}-width`]=U(e.width))),o})),w=y((()=>e.alignCenter?{display:"flex"}:{}));function k(){null==b||b(),null==g||g(),e.openDelay&&e.openDelay>0?({stop:g}=J((()=>M()),e.openDelay)):M()}function x(){null==g||g(),null==b||b(),e.closeDelay&&e.closeDelay>0?({stop:b}=J((()=>I()),e.closeDelay)):I()}function E(){e.beforeClose?e.beforeClose((function(e){e||(p.value=!0,f.value=!1)})):x()}function M(){q&&(f.value=!0)}function I(){f.value=!1}return e.lockScroll&&(e=>{s(e)||ce("[useLockscreen]","You need to pass a ref param to this function");const o=W("popup"),t=a((()=>o.bm("parent","hidden")));if(!q||H(document.body,t.value))return;let l=0,n=!1,u="0";const c=()=>{setTimeout((()=>{K(document.body,t.value),n&&(document.body.style.width=u)}),200)};r(e,(e=>{if(!e)return void c();n=!H(document.body,t.value),n&&(u=document.body.style.width),l=pe(o.namespace.value);const s=document.documentElement.clientHeight<document.body.scrollHeight,a=X(document.body,"overflowY");l>0&&(s||"scroll"===a)&&n&&(document.body.style.width=`calc(100% - ${l}px)`),V(document.body,t.value)})),d((()=>c()))})(f),r((()=>e.modelValue),(t=>{t?(p.value=!1,k(),m.value=!0,v.value=e.zIndex?v.value++:n(),$((()=>{l("open"),o.value&&(o.value.scrollTop=0)}))):f.value&&x()})),r((()=>e.fullscreen),(e=>{o.value&&(e?(u=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=u)})),t((()=>{e.modelValue&&(f.value=!0,m.value=!0,k())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(de,!1),e.destroyOnClose&&(m.value=!1)},beforeLeave:function(){l("close")},handleClose:E,onModalClick:function(){e.closeOnClickModal&&E()},close:x,doClose:I,onOpenAutoFocus:function(){l("openAutoFocus")},onCloseAutoFocus:function(){l("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&E()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:c,bodyId:i,closed:p,style:C,overlayDialogStyle:w,rendered:m,visible:f,zIndex:v}},$e=["aria-label","aria-labelledby","aria-describedby"],Ae=c({name:"ElDialog",inheritAttrs:!1}),Be=c({...Ae,props:Me,emits:Ie,setup(e,{expose:o}){const t=e,l=B();ie({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},y((()=>!!l.title))),ie({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},y((()=>!!t.customClass)));const n=W("dialog"),s=S(),a=S(),r=S(),{visible:d,titleId:u,bodyId:c,style:p,overlayDialogStyle:m,rendered:g,zIndex:w,afterEnter:E,afterLeave:$,beforeLeave:A,handleClose:O,onModalClick:T,onOpenAutoFocus:P,onCloseAutoFocus:N,onCloseRequested:Y,onFocusoutPrevented:q}=Se(t,s);R(me,{dialogRef:s,headerRef:a,bodyId:c,ns:n,rendered:g,style:p});const X=ve(T),U=y((()=>t.draggable&&!t.fullscreen));return o({visible:d,dialogContentRef:r}),(e,o)=>(v(),x(z,{to:"body",disabled:!e.appendToBody},[i(D,{name:"dialog-fade",onAfterEnter:C(E),onAfterLeave:C($),onBeforeLeave:C(A),persisted:""},{default:k((()=>[F(i(C(be),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":C(w)},{default:k((()=>[b("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:C(u),"aria-describedby":C(c),class:h(`${C(n).namespace.value}-overlay-dialog`),style:I(C(m)),onClick:o[0]||(o[0]=(...e)=>C(X).onClick&&C(X).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>C(X).onMousedown&&C(X).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>C(X).onMouseup&&C(X).onMouseup(...e))},[i(C(re),{loop:"",trapped:C(d),"focus-start-el":"container",onFocusAfterTrapped:C(P),onFocusAfterReleased:C(N),onFocusoutPrevented:C(q),onReleaseRequested:C(Y)},{default:k((()=>[C(g)?(v(),x(Ee,j({key:0,ref_key:"dialogContentRef",ref:r},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:C(U),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:C(O)}),_({header:k((()=>[e.$slots.title?f(e.$slots,"title",{key:1}):f(e.$slots,"header",{key:0,close:C(O),titleId:C(u),titleClass:C(n).e("title")})])),default:k((()=>[f(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:k((()=>[f(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):M("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,$e)])),_:3},8,["mask","overlay-class","z-index"]),[[L,C(d)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});e("E",Y(N(Be,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]])))}}}));
//# sourceMappingURL=index-legacy-2f3e95d5.js.map
