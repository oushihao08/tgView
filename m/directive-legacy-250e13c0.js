System.register(["./vue-legacy-ad0cdcd9.js","./index-legacy-06c116be.js","./index-legacy-3b510e6c.js"],(function(e,n){"use strict";var t,l,o,i,s,r,a,u,c,d,v,g,b,m,f,p,y,x,C,k,w;return{setters:[e=>{t=e.r,l=e.a,o=e.z,i=e.H,s=e.K,r=e.S,a=e.s,u=e.v,c=e.j,d=e.T,v=e.n,g=e.Y,b=e.a3,m=e.f,f=e.ab},e=>{p=e.u,y=e.g,x=e.c,C=e.h,k=e.j},e=>{w=e.u}],execute:function(){function n(e){let n;const v=p("loading"),g=t(!1),b=l({...e,originalPosition:"",originalOverflow:"",visible:!1});function m(){var e,n;null==(n=null==(e=C.$el)?void 0:e.parentNode)||n.removeChild(C.$el)}function f(){if(!g.value)return;const e=b.parent;g.value=!1,e.vLoadingAddClassList=void 0,function(){const e=b.parent;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):(y(e,v.bm("parent","relative")),e.removeAttribute("loading-number")),y(e,v.bm("parent","hidden"))}m(),x.unmount()}()}const x=o({name:"ElLoading",setup:()=>()=>{const e=b.spinner||b.svg,n=s("svg",{class:"circular",viewBox:b.svgViewBox?b.svgViewBox:"0 0 50 50",...e?{innerHTML:e}:{}},[s("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),t=b.text?s("p",{class:v.b("text")},[b.text]):void 0;return s(d,{name:v.b("fade"),onAfterLeave:f},{default:r((()=>[a(c("div",{style:{backgroundColor:b.background||""},class:[v.b("mask"),b.customClass,b.fullscreen?"is-fullscreen":""]},[s("div",{class:v.b("spinner")},[n,t])]),[[u,b.visible]])]))})}}),C=x.mount(document.createElement("div"));return{...i(b),setText:function(e){b.text=e},removeElLoadingChild:m,close:function(){var t;e.beforeClose&&!e.beforeClose()||(g.value=!0,clearTimeout(n),n=window.setTimeout(f,400),b.visible=!1,null==(t=e.closed)||t.call(e))},handleAfterLeave:f,vm:C,get $el(){return C.$el}}}let L;const h=function(e={}){if(!x)return;const t=A(e);if(t.fullscreen&&L)return L;const l=n({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(L=void 0)}});$(t,t.parent,l),B(t,t.parent,l),t.parent.vLoadingAddClassList=()=>B(t,t.parent,l);let o=t.parent.getAttribute("loading-number");return o=o?`${Number.parseInt(o)+1}`:"1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(l.$el),v((()=>l.visible.value=t.visible)),t.fullscreen&&(L=l),l},A=e=>{var n,t,l,o;let i;return i=g(e.target)?null!=(n=document.querySelector(e.target))?n:document.body:e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&(null==(t=e.fullscreen)||t),lock:null!=(l=e.lock)&&l,customClass:e.customClass||"",visible:null==(o=e.visible)||o,target:i}},$=async(e,n,t)=>{const{nextZIndex:l}=w(),o={};if(e.fullscreen)t.originalPosition.value=C(document.body,"position"),t.originalOverflow.value=C(document.body,"overflow"),o.zIndex=l();else if(e.parent===document.body){t.originalPosition.value=C(document.body,"position"),await v();for(const n of["top","left"]){const t="top"===n?"scrollTop":"scrollLeft";o[n]=e.target.getBoundingClientRect()[n]+document.body[t]+document.documentElement[t]-Number.parseInt(C(document.body,`margin-${n}`),10)+"px"}for(const n of["height","width"])o[n]=`${e.target.getBoundingClientRect()[n]}px`}else t.originalPosition.value=C(n,"position");for(const[i,s]of Object.entries(o))t.$el.style[i]=s},B=(e,n,t)=>{const l=p("loading");["absolute","fixed","sticky"].includes(t.originalPosition.value)?y(n,l.bm("parent","relative")):k(n,l.bm("parent","relative")),e.fullscreen&&e.lock?k(n,l.bm("parent","hidden")):y(n,l.bm("parent","hidden"))},V=Symbol("ElLoading"),j=(e,n)=>{var l,o,i,s;const r=n.instance,a=e=>b(n.value)?n.value[e]:void 0,u=n=>(e=>{const n=g(e)&&(null==r?void 0:r[e])||e;return n?t(n):n})(a(n)||e.getAttribute(`element-loading-${f(n)}`)),c=null!=(l=a("fullscreen"))?l:n.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:null!=(o=a("target"))?o:c?void 0:e,body:null!=(i=a("body"))?i:n.modifiers.body,lock:null!=(s=a("lock"))?s:n.modifiers.lock};e[V]={options:d,instance:h(d)}};e("v",{mounted(e,n){n.value&&j(e,n)},updated(e,n){const t=e[V];n.oldValue!==n.value&&(n.value&&!n.oldValue?j(e,n):n.value&&n.oldValue?b(n.value)&&((e,n)=>{for(const t of Object.keys(n))m(n[t])&&(n[t].value=e[t])})(n.value,t.options):null==t||t.instance.close())},unmounted(e){var n;null==(n=e[V])||n.instance.close()}})}}}));
//# sourceMappingURL=directive-legacy-250e13c0.js.map
